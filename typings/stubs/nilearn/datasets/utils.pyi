"""
This type stub file was generated by pyright.
"""

import requests
from .._utils import fill_doc

"""
Downloading NeuroImaging datasets: utility functions
"""
_REQUESTS_TIMEOUT = ...
def md5_hash(string): # -> str:
    ...

def readlinkabs(link):
    """
    Return an absolute path for the destination
    of a symlink
    """
    ...

@fill_doc
def get_data_dirs(data_dir=...): # -> list[Unknown]:
    """Returns the directories in which nilearn looks for data.

    This is typically useful for the end-user to check where the data is
    downloaded and stored.

    Parameters
    ----------
    %(data_dir)s

    Returns
    -------
    paths : list of strings
        Paths of the dataset directories.

    Notes
    -----
    This function retrieves the datasets directories using the following
    priority :

    1. defaults system paths
    2. the keyword argument data_dir
    3. the global environment variable NILEARN_SHARED_DATA
    4. the user environment variable NILEARN_DATA
    5. nilearn_data in the user home folder

    """
    ...

class _NaiveFTPAdapter(requests.adapters.BaseAdapter):
    def send(self, request, timeout=..., **kwargs): # -> Response:
        ...
    
    def close(self): # -> None:
        ...
    


def movetree(src, dst): # -> None:
    """Move an entire tree to another directory. Any existing file is
    overwritten"""
    ...

@fill_doc
def make_fresh_openneuro_dataset_urls_index(data_dir=..., dataset_version=..., verbose=...): # -> tuple[str, Any | list[Unknown]]:
    """ONLY intended for Nilearn developers, not general users.
    Creates a fresh, updated OpenNeuro :term:`BIDS` dataset index from AWS,
    ready for upload to osf.io .

    Crawls the server where OpenNeuro dataset is stored
    and makes a JSON file `nistats_fetcher_openneuro_dataset_urls.json'
    containing a fresh list of dataset file URLs.

    Notes
    -----
    Needs Python package `Boto3`.

    Do NOT rename this file.

    This file can now be uploaded to Quick-Files section
    of the Nilearn account on osf.io .

    Then this file can be downloaded by
    :func:`datasets.fetch_openneuro_dataset_index`

    Run this function and upload the new file if the URL index downloaded by
    :func:`datasets.fetch_openneuro_dataset_index` becomes outdated.

    This approach is faster than crawling the servers anew every time
    the OpenNeuro dataset is downloaded,
    and circumvents `boto3` as a dependency for everyday use.

    Parameters
    ----------
    %(data_dir)s
    dataset_version : string, optional
        Dataset version name. Assumes it is of the form [name]_[version].
        Default is `ds000030_R1.0.4`.
    %(verbose)s

    Returns
    -------
    urls_path : string
        Path to downloaded dataset index.

    urls : list of string
        Sorted list of dataset directories.

    """
    ...

